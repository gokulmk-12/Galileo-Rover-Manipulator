<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from arm.xacro                      | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- =========================================================================================================================================-->
<!-- | 					Team Anveshak, CFI, IIT Madras                                                                  -->
<!-- |                     This is the official Robot Description of Team Anveshak's Galileo Manipulator                                      -->
<!-- | The Manipulator is attached with a 2 finger gripper from Robotiq and has an Intel Realsense Depth Camera in Eye-in-hand Configuration  -->
<!-- ======================================================================================================================================== -->
<robot name="galileo_arm">
  
  <material name="silver_default">
    <color rgba="0.700 0.700 0.700 1.000"/>
  </material>
  <material name="default">
    <color rgba="0.3137254901960784 0.3137254901960784 0.3137254901960784 1.0"/>
  </material>
  <material name="steel_satin">
    <color rgba="0.6274509803921569 0.6274509803921569 0.6274509803921569 1.0"/>
  </material>
  <material name="Black">
        <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="Red">
        <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="Blue">
        <color rgba="0.0 0.0 1.0 1.0"/>
  </material>
  <material name="LightBlue">
        <color rgba="0.589 0.793 1.0 1.0"/>
  </material>
  <material name="Grey">
        <color rgba="0.5 0.5 0.5 1.0"/>
  </material>
  <material name="White">
        <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  
  <transmission name="shoulder_pan_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="shoulder_pan_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="shoulder_pan_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="shoulder_lift_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="shoulder_lift_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="shoulder_lift_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="elbow_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="elbow_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="elbow_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="wrist_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="ee_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="ee_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="ee_joint_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <!--transmission name="gripper_joint_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_joint_1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="gripper_joint_1_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="gripper_joint_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_joint_2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="gripper_joint_2_motor">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission-->
  
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
    <robotNamespace>/galileo_arm</robotNamespace>
    </plugin>
  </gazebo>
  
  <gazebo reference="base_link">
    <material>Gazebo/Black</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="shoulder_link">
    <material>Gazebo/FlatBlack </material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="forearm_link">
    <material>PR2/Grey2</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="wrist_1_link">
    <material>PR2/Grey2 </material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="wrist_2_link">
    <material>PR2/Grey2</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="tool_tip">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <!--gazebo reference="gripper_link_1">
    <material>Gazebo/Black</material>
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="gripper_link_2">
    <material>Gazebo/Black</material>
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="gripper_frame_cp">
    <material>Gazebo/FlatBlack</material>
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>true</selfCollide>
  </gazebo-->
  
  <!-- Gazebo Plugin for Camera -->
  <gazebo reference="camera_link">
    <sensor name="intelrealsense" type="depth">
      <visualize>false</visualize>
      <updateRate>40</updateRate>
      <camera>
        <horizontal_fov>1.047</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>B8G8R8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="camera_plugin">
        <baseline>0.2</baseline>
        <alwaysOn>true</alwaysOn>
        <!-- Keep this zero, update_rate in the parent <sensor> tag will control the frame rate.-->
        <updateRate>20.0</updateRate>
        <cameraName>camera</cameraName>
        <imageTopicName>/camera/color/image_raw</imageTopicName>
        <cameraInfoTopicName>/camera/color/camera_info</cameraInfoTopicName>
        <depthImageTopicName>/camera/depth/image_raw</depthImageTopicName>
        <depthImageCameraInfoTopicName>/camera/depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudTopicName>/camera/depth/points</pointCloudTopicName>
        <frameName>camera_depth_frame</frameName>
        <pointCloudCutoff>0.05</pointCloudCutoff>
        <distortionK1>0</distortionK1>
        <distortionK2>0</distortionK2>
        <distortionK3>0</distortionK3>
        <distortionT1>0</distortionT1>
        <distortionT2>0</distortionT2>
        <CxPrime>0</CxPrime>
        <Cx>0</Cx>
        <Cy>0</Cy>
        <focalLength>0</focalLength>
        <hackBaseline>0</hackBaseline>
      </plugin>
    </sensor>
    <static>true</static>
  </gazebo>

  <link name="base_footprint"/>
  <link name="base_link">
    <inertial>
        <origin xyz="0 0 ${0.15/2}" rpy="0 0 0"/>
        <mass value="${20}"/>
        <inertia
            ixx="${20 / 12.0 * (2*0.1*2*0.1 + 0.15*0.15)}" ixy="0.0" ixz="0.0"
            iyy="${20 / 12.0 * (0.15*0.15 + 2*0.1*2*0.1)}" iyz="0.0"
            izz="${20 / 12.0 * (2*0.1*2*0.1 + 2*0.1*2*0.1)}" />
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="Black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <link name="forearm_link">

    <inertial>
        <origin xyz="0 0 ${0.5/2}" rpy="0 0 0"/>
        <mass value="${1}"/>
        <inertia
            ixx="${1 / 12.0 * (2*0.035*2*0.035 + 0.5*0.5)}" ixy="0.0" ixz="0.0"
            iyy="${1 / 12.0 * (0.5*0.5 + 2*0.035*2*0.035)}" iyz="0.0"
            izz="${1 / 12.0 * (2*0.035*2*0.035 + 2*0.035*2*0.035)}" />
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0375 -0.034 -0.0425"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/link1_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="Black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0375 -0.034 -0.0425"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/link1_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <link name="wrist_1_link">
    <inertial>
        <origin xyz="0 0 ${0.3/2}" rpy="0 0 0"/>
        <mass value="${1}"/>
        <inertia
            ixx="${1 / 12.0 * (2*0.025*2*0.025 + 0.3*0.3)}" ixy="0.0" ixz="0.0"
            iyy="${1 / 12.0 * (0.3*0.3 + 2*0.025*2*0.025)}" iyz="0.0"
            izz="${1 / 12.0 * (2*0.025*2*0.025 + 2*0.025*2*0.025)}" />
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.235094 -0.046 -0.459007"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/link2_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="default"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.235094 -0.046 -0.459007"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/link2_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <link name="wrist_2_link">
    <inertial>
        <origin xyz="0 0 ${0.3/2}" rpy="0 0 0"/>
        <mass value="${1}"/>
        <inertia
            ixx="${1 / 12.0 * (2*0.025*2*0.025 + 0.3*0.3)}" ixy="0.0" ixz="0.0"
            iyy="${1 / 12.0 * (0.3*0.3 + 2*0.025*2*0.025)}" iyz="0.0"
            izz="${1 / 12.0 * (2*0.025*2*0.025 + 2*0.025*2*0.025)}" />
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.016007 0.0075 -0.891382"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/tip_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="steel_satin"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.016007 0.0075 -0.891382"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/tip_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <link name="shoulder_link">
    <inertial>
        <origin xyz="0 0 ${0.4/2}" rpy="0 0 0"/>
        <mass value="${2}"/>
        <inertia
            ixx="${2 / 12.0 * (2*0.05*2*0.05 + 0.4*0.4)}" ixy="0.0" ixz="0.0"
            iyy="${2 / 12.0 * (0.4*0.4 + 2*0.05*2*0.05)}" iyz="0.0"
            izz="${2 / 12.0 * (2*0.05*2*0.05 + 2*0.05*2*0.05)}" />
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 -0.0 0.0"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/shoulder_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="Black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 -0.0 0.0"/>
      <geometry>
        <mesh filename="package://arm_description/meshes/shoulder_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <link name="tool_tip">
        <inertial>
         <origin xyz="0 0 ${0.07/2}" rpy="0 0 0"/>
         <mass value="1"/>
         <inertia
            ixx="${1 / 12.0 * (2*0.025*2*0.025 + 0.15*0.15)}" ixy="0.0" ixz="0.0"
            iyy="${1 / 12.0 * (0.15*0.15 + 2*0.025*2*0.025)}" iyz="0.0"
            izz="${1 / 12.0 * (2*0.025*2*0.025 + 2*0.025*2*0.025)}" />
        </inertial>
        <visual>
            <origin xyz="0.0 0.0 ${0.025/2.0}" rpy="0.0 ${pi/2.0} 0.0"/>
            <geometry>
                <box size="${0.015*2} ${0.015*2} ${0.1}"/>
            </geometry>
            <material name="Grey"/>
        </visual>

        <collision>
            <origin xyz="0.0 0.0 ${0.025/2.0}" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.015*2} ${0.015*2} ${0.1}"/>
            </geometry>>
        </collision>
  </link>
  
  <!--joint name="gripper_joint_1" type="prismatic">
        <origin xyz="0.0 0.0 ${0.025 + 0.07/2.0}" rpy="0.0 0.0 0.0"/>
        <parent link="tool_tip"/>
        <child link="gripper_link_1"/>
        <axis xyz="1.0 0.0 0.0"/>
        <limit lower="${0.02/2.0}" upper="0.05" effort="100.0" velocity="1.0"/>
    </joint>

    <joint name="gripper_joint_2" type="prismatic">
        <origin xyz="0.0 0.0 ${0.025 + 0.07/2.0}" rpy="0.0 0.0 0.0"/>
        <parent link="tool_tip"/>
        <child link="gripper_link_2"/>
        <axis xyz="1.0 0.0 0.0"/>
        <limit lower="-0.05" upper="${-0.02/2.0}" effort="100.0" velocity="1.0"/>
    </joint>

    <joint name="gripper_frame_joint" type="fixed">
        <origin xyz="0.0 0.0 ${0.025*2 + 0.07/2 + 0.01}" rpy="0.0 0.0 0.0"/>
        <parent link="tool_tip"/>
        <child link="gripper_frame_cp"/>
    </joint-->

  <!--=============================================================================--> 
  <!--gripper_link_1-->
    <!--link name="gripper_link_1">
    	<inertial>
         <origin xyz="0 0 ${0.07/2}" rpy="0 0 0"/>
         <mass value="0.2"/>
         <inertia
            ixx="${0.2 / 12.0 * (2*0.015*2*0.015 + 0.07*0.07)}" ixy="0.0" ixz="0.0"
            iyy="${0.2 / 12.0 * (0.07*0.07 + 2*0.015*2*0.015)}" iyz="0.0"
            izz="${0.2 / 12.0 * (2*0.015*2*0.015 + 2*0.015*2*0.015)}" />
        </inertial>
        <visual>
            <origin xyz="0.0 0.0 ${0.015/2.0}" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.015} ${0.015*2} ${0.07}"/>
            </geometry>
            <material name="Grey"/>
        </visual>

        <collision>
            <origin xyz="0.0 0.0 ${0.015/2.0}" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.015*2} ${0.015*2} ${0.07}"/>
            </geometry>>
        </collision>
    </link-->
    
    <!--=============================================================================-->
    <!--gripper_link_2-->
    <!--link name="gripper_link_2">
        <inertial>
         <origin xyz="0 0 ${0.07/2}" rpy="0 0 0"/>
         <mass value="0.2"/>
         <inertia
            ixx="${0.2 / 12.0 * (2*0.015*2*0.015 + 0.07*0.07)}" ixy="0.0" ixz="0.0"
            iyy="${0.2 / 12.0 * (0.07*0.07 + 2*0.015*2*0.015)}" iyz="0.0"
            izz="${0.2 / 12.0 * (2*0.015*2*0.015 + 2*0.015*2*0.015)}" />
        </inertial>
        <visual>
            <origin xyz="0.0 0.0 ${0.015/2.0}" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.015} ${0.015*2} ${0.07}"/>
            </geometry>
            <material name="Grey"/>
        </visual>

        <collision>
            <origin xyz="0.0 0.0 ${0.015/2.0}" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.015*2} ${0.015*2} ${0.07}"/>
            </geometry>>
        </collision>
    </link-->

    <!--=============================================================================-->
    <!--gripper_frame_cp-->
    <!--link name="gripper_frame_cp">
        <inertial>
          <origin xyz="0 0 ${0.001/2}" rpy="0 0 0"/>
          <mass value="0.001"/>
          <inertia
            ixx="${0.001 / 12.0 * (2*0.001*2*0.001 + 0.001*0.001)}" ixy="0.0" ixz="0.0"
            iyy="${0.001 / 12.0 * (0.001*0.001 + 2*0.001*2*0.001)}" iyz="0.0"
            izz="${0.001 / 12.0 * (2*0.001*2*0.001 + 2*0.001*2*0.001)}" />
        </inertial>
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.001} ${0.001} ${0.001}"/>
            </geometry>
            <material name="Grey"/>
        </visual>

        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="${0.001} ${0.001} ${0.001}"/>
            </geometry>
        </collision>
    </link-->

  <!--intel realsense camera -->
  <!--joint name="intelrealsense" type="fixed">
    <axis xyz="0 0 0" />
    <origin xyz="-0.07 0.01 0.02" rpy="0 -1.046 0"/>
    <parent link="wrist_2_link"/>
    <child link="camera_link"/>
</joint>
  
<link name="camera_link">
    <collision>
      <origin xyz="0.02 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </collision>

    <visual>
      <origin xyz="0 0 0" rpy="1.5707 0 1.5707"/>
      <geometry>
         <mesh filename="package://arm_description/meshes/NAVRS.STL" />
      </geometry>
    </visual>

    <inertial>
      <mass value="1e-5" />
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0" />
    </inertial>
</link>

<joint name="camera_optical_joint" type="fixed">
    <origin xyz="0 0 0" rpy="${-pi/2} 0 ${-pi/2}"/>
    <parent link="camera_link"/>
    <child link="camera_rgb_frame"/>
</joint>

<link name="camera_rgb_frame"></link>

<joint name="camera_depth_joint" type="fixed">
    <origin xyz="0 0 0" rpy="${-pi/2} 0 ${-pi/2}"/>
    <parent link="camera_link"/>
    <child link="camera_depth_frame"/>
</joint>

<link name="camera_depth_frame"></link-->
  <!-- manipulator joints -->
  <!--joint name="world_joint" type="fixed">
   <parent link="world"/>
   <child link="base_link"/>
</joint-->
  <joint name="base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <parent link="base_footprint"/>
    <child link="base_link"/>
  </joint>
  <joint name="shoulder_pan_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <parent link="base_link"/>
    <child link="shoulder_link"/>
    <axis xyz="-0.0 0.0 1.0"/>
    <limit effort="300" lower="-${pi}" upper="${pi}" velocity="1"/>
  </joint>
  <joint name="shoulder_lift_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.0375 0.034 0.0425"/>
    <parent link="shoulder_link"/>
    <child link="forearm_link"/>
    <axis xyz="-0.0 1.0 -0.0"/>
    <limit effort="300" lower="-${pi}" upper="${pi}" velocity="1"/>
  </joint>
  <joint name="elbow_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.197594 0.012 0.416507"/>
    <parent link="forearm_link"/>
    <child link="wrist_1_link"/>
    <axis xyz="0.0 -1.0 0.0"/>
    <limit effort="300" lower="-${pi}" upper="${pi}" velocity="1"/>
  </joint>
  <joint name="wrist_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.251101 -0.0535 0.432375"/>
    <parent link="wrist_1_link"/>
    <child link="wrist_2_link"/>
    <axis xyz="-0.0 1.0 0.0"/>
    <limit effort="300" lower="-${pi}" upper="${pi}" velocity="1"/>
  </joint>
  <joint name="ee_joint" type="revolute">
    <origin rpy="${pi/6} 0 ${pi/2}" xyz="0.0 0.0 0.0"/>
    <parent link="wrist_2_link"/>
    <child link="tool_tip"/>
    <axis xyz="0.0 0.0 1.0"/>
    <limit effort="300" lower="-1.22173" upper="1.22173" velocity="1"/>
  </joint>
</robot>

